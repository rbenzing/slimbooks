# Slimbooks Server Environment Configuration
# Copy this file to .env and update the values as needed

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port and host
PORT=3002
HOST=0.0.0.0

# Environment (development, production, test)
NODE_ENV=development

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS origin (frontend URL)
CORS_ORIGIN=http://localhost:8080

# Enable CORS credentials
CORS_CREDENTIALS=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database file path (relative to server directory)
DB_PATH=./data/slimbooks.db

# Database backup path
DB_BACKUP_PATH=./data/backups

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT secrets (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=your-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production
SESSION_SECRET=your-session-secret-change-in-production

# Token expiration times (in milliseconds)
ACCESS_TOKEN_EXPIRY=900000          # 15 minutes
REFRESH_TOKEN_EXPIRY=604800000      # 7 days
EMAIL_TOKEN_EXPIRY=86400000         # 24 hours
PASSWORD_RESET_EXPIRY=3600000       # 1 hour

# Password hashing rounds
BCRYPT_ROUNDS=12

# Account lockout settings
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=1800000    # 30 minutes

# Email verification requirement
REQUIRE_EMAIL_VERIFICATION=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# General rate limiting
RATE_LIMIT_WINDOW_MS=900000         # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100         # requests per window

# Login rate limiting
LOGIN_RATE_LIMIT_WINDOW_MS=900000   # 15 minutes
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5     # login attempts per window

# =============================================================================
# FILE UPLOAD
# =============================================================================

# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE=10485760              # 10MB

# Upload directory path
UPLOAD_PATH=./uploads

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================

# SMTP server settings
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Email sender address
EMAIL_FROM=noreply@slimbooks.app

# =============================================================================
# STRIPE PAYMENT PROCESSING
# =============================================================================

# Stripe API keys
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Default currency
DEFAULT_CURRENCY=usd

# =============================================================================
# GOOGLE OAUTH
# =============================================================================

# Google OAuth credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=

# =============================================================================
# LOGGING
# =============================================================================

# Log level (debug, info, warn, error)
LOG_LEVEL=debug

# Log file path
LOG_FILE=./logs/app.log

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Enable debug endpoints (development only)
ENABLE_DEBUG_ENDPOINTS=true

# Enable sample data initialization
ENABLE_SAMPLE_DATA=true

# =============================================================================
# NOTES
# =============================================================================

# 1. Always change JWT secrets in production
# 2. Set NODE_ENV=production for production deployments
# 3. Configure SMTP settings for email functionality
# 4. Set up Stripe keys for payment processing
# 5. Configure Google OAuth for social login
# 6. Adjust rate limiting based on your needs
# 7. Set REQUIRE_EMAIL_VERIFICATION=true for production
